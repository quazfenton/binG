{"level":"ERROR","timestamp":"2025-11-13T11:33:03.954272","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:34:02.040515","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:36:09.366613","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 429 - {\n  \"error\": {\n    \"code\": 429,\n    \"message\": \"You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. To monitor your current usage, head to: https://ai.dev/usage?tab=rate-limit. \\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\\nPlease retry in 50.677481686s.\",\n    \"status\": \"RESOURCE_EXHAUSTED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Learn more about Gemini API quotas\",\n            \"url\": \"https://ai.google.dev/gemini-api/docs/rate-limits\"\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.QuotaFailure\",\n        \"violations\": [\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_free_tier_requests\",\n            \"quotaId\": \"GenerateRequestsPerDayPerProjectPerModel-FreeTier\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.5-pro-exp\"\n            }\n          },\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_free_tier_requests\",\n            \"quotaId\": \"GenerateRequestsPerMinutePerProjectPerModel-FreeTier\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.5-pro-exp\"\n            }\n          },\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_free_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentInputTokensPerModelPerMinute-FreeTier\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.5-pro-exp\"\n            }\n          },\n          {\n            \"quotaMetric\": \"generativelanguage.googleapis.com/generate_content_free_tier_input_token_count\",\n            \"quotaId\": \"GenerateContentInputTokensPerModelPerDay-FreeTier\",\n            \"quotaDimensions\": {\n              \"location\": \"global\",\n              \"model\": \"gemini-2.5-pro-exp\"\n            }\n          }\n        ]\n      },\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.RetryInfo\",\n        \"retryDelay\": \"50s\"\n      }\n    ]\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:39:48.247670","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:45:03.137411","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - The model is overloaded. Please try again later."}
{"level":"ERROR","timestamp":"2025-11-13T11:45:27.918999","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:45:45.095494","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:45:56.087402","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T11:46:04.168421","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T12:03:48.195840","namespace":"fast_agent.llm.fastagent_llm","message":"Google API Error: 503 - {\n  \"error\": {\n    \"code\": 503,\n    \"message\": \"The model is overloaded. Please try again later.\",\n    \"status\": \"UNAVAILABLE\"\n  }\n}\n"}
{"level":"ERROR","timestamp":"2025-11-13T12:04:28.850566","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"}],\"model\":\"qwen3-32b:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 400 - {'error': {'message': 'qwen3-32b:free is not a valid model ID', 'code': 400}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"qwen3-32b:free is not a valid model ID","code":400},"code":"400","param":null,"type":null,"response":"<httpx.Response [400] https://openrouter.ai/api/v1/chat/completions>","status_code":400,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:05:18.744182","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"}],\"model\":\"qwen3-32b:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 400 - {'error': {'message': 'qwen3-32b:free is not a valid model ID', 'code': 400}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"qwen3-32b:free is not a valid model ID","code":400},"code":"400","param":null,"type":null,"response":"<httpx.Response [400] https://openrouter.ai/api/v1/chat/completions>","status_code":400,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:06:15.875399","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"hi\"}],\"model\":\"qwen/qwen3-32b:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 404 - {'error': {'message': 'No endpoints found for qwen/qwen3-32b:free.', 'code': 404}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"No endpoints found for qwen/qwen3-32b:free.","code":404},"code":"404","param":null,"type":null,"response":"<httpx.Response [404] https://openrouter.ai/api/v1/chat/completions>","status_code":404,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:07:35.339955","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"}],\"model\":\"qwen/qwq-32b:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 404 - {'error': {'message': 'No endpoints found for qwen/qwq-32b:free.', 'code': 404}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"No endpoints found for qwen/qwq-32b:free.","code":404},"code":"404","param":null,"type":null,"response":"<httpx.Response [404] https://openrouter.ai/api/v1/chat/completions>","status_code":404,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:08:19.594265","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"hi\"}],\"model\":\"qwq-32b:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 400 - {'error': {'message': 'qwq-32b:free is not a valid model ID', 'code': 400}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"qwq-32b:free is not a valid model ID","code":400},"code":"400","param":null,"type":null,"response":"<httpx.Response [400] https://openrouter.ai/api/v1/chat/completions>","status_code":400,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:09:17.771571","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"}],\"model\":\"deepseek/deepseek-r1-0528:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 429 - {'error': {'message': 'Provider returned error', 'code': 429, 'metadata': {'raw': 'deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations', 'provider_name': 'Chutes'}}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"Provider returned error","code":429,"metadata":{"raw":"deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Chutes"}},"code":"429","param":null,"type":null,"response":"<httpx.Response [429] https://openrouter.ai/api/v1/chat/completions>","status_code":429,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:21:12.431488","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"},{\"content\":\"Here\\'s a structured plan to integrate FastAgent with your AI chat app using Cloudflare Workers, balancing performance, security, and maintainability:\\\\n\\\\n### 1. **Hosting Strategy**\\\\n- **FastAgent on Dedicated Subdomain**:\\\\n  - Deploy FastAgent to `agents.yourdomain.com` \\\\n  - *Why*: \\\\n    - Isolates services (security/scale)\\\\n    - Avoids cookie/caching conflicts\\\\n    - Allows separate rate-limiting\\\\n- **Chat App on Main Domain**: Host UI at `app.yourdomain.com`\\\\n\\\\n### 2. **Routing Architecture**\\\\n```mermaid\\\\nflowchart LR\\\\n    Client-->|Request| Cloudflare[CF Worker A]\\\\n    Cloudflare-->|Static Files| CF_Pages[Chat App UI]\\\\n    Cloudflare-->|API Calls| Worker_B[CF Worker B: API Gateway]\\\\n    Worker_B-->|Proxy to FastAgent| FastAgent[CF Worker C: FastAgent]\\\\n    Worker_B-->|DB/3rd Party| External[Other Services]\\\\n```\\\\n\\\\n### 3. **Cloudflare Worker Roles**\\\\na. **Worker A (Frontend Helper)**:\\\\n   - Path: `app.yourdomain.com/*`\\\\n   - Responsibilities:\\\\n     - Serve static chat app (HTML/JS/CSS)\\\\n     - Inject env variables (e.g., API endpoints)\\\\n     - Handle CSP headers\\\\n   - **Does NOT process API calls**\\\\n\\\\nb. **Worker B (API Gateway)**:\\\\n   - Path: `app.yourdomain.com/api/*`\\\\n   - Key Features:\\\\n     - Request validation/auth (JWT/cookies)\\\\n     - Rate limiting (use CF Rate Limiting)\\\\n     - Routing:\\\\n       - `/api/chat \\xe2\\x86\\x92` Proxy to **FastAgent**\\\\n       - `/api/auth \\xe2\\x86\\x92` Auth services\\\\n       - `/api/data \\xe2\\x86\\x92` Other backend services\\\\n     - Response formatting\\\\n   - *Critical*: Uses `cacheAPI` for frequent queries\\\\n\\\\nc. **Worker C (FastAgent)**:\\\\n   - Path: `agents.yourdomain.com/process`\\\\n   - Private endpoint (only accessible via API Gateway)\\\\n   - Handles:\\\\n     - AI model inference\\\\n     - Session management\\\\n     - Vector DB integrations\\\\n   - *Deployment Tip*: Use Workers AI\",\"role\":\"assistant\"},{\"role\":\"user\",\"content\":\"continue response\"}],\"model\":\"deepseek/deepseek-r1-0528:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 429 - {'error': {'message': 'Provider returned error', 'code': 429, 'metadata': {'raw': 'deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations', 'provider_name': 'Chutes'}}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"Provider returned error","code":429,"metadata":{"raw":"deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Chutes"}},"code":"429","param":null,"type":null,"response":"<httpx.Response [429] https://openrouter.ai/api/v1/chat/completions>","status_code":429,"request_id":null}}}
{"level":"ERROR","timestamp":"2025-11-13T12:21:41.494236","namespace":"fast_agent.llm.provider.openai.llm_openai.default","message":"APIError during OpenAI completion","data":{"exc_info":{"request":{"method":"POST","url":{"_uri_reference":["https","","openrouter.ai",null,"/api/v1/chat/completions",null,null]},"headers":["host","accept-encoding","connection","accept","content-type","user-agent","x-stainless-lang","x-stainless-package-version","x-stainless-os","x-stainless-arch","x-stainless-runtime","x-stainless-runtime-version","authorization","x-stainless-async","x-stainless-retry-count","x-stainless-read-timeout","content-length"],"extensions":{"timeout":{"connect":5.0,"read":600,"write":"600","pool":"600"}},"stream":[{"capitalize":"<callable: capitalize>","center":"<callable: center>","count":"<callable: count>","decode":"<callable: decode>","endswith":"<callable: endswith>","expandtabs":"<callable: expandtabs>","find":"<callable: find>","fromhex":"<callable: fromhex>","hex":"<callable: hex>","index":"<callable: index>","isalnum":"<callable: isalnum>","isalpha":"<callable: isalpha>","isascii":"<callable: isascii>","isdigit":"<callable: isdigit>","islower":"<callable: islower>","isspace":"<callable: isspace>","istitle":"<callable: istitle>","isupper":"<callable: isupper>","join":"<callable: join>","ljust":"<callable: ljust>","lower":"<callable: lower>","lstrip":"<callable: lstrip>","maketrans":"<callable: maketrans>","partition":"<callable: partition>","removeprefix":"<callable: removeprefix>","removesuffix":"<callable: removesuffix>","replace":"<callable: replace>","rfind":"<callable: rfind>","rindex":"<callable: rindex>","rjust":"<callable: rjust>","rpartition":"<callable: rpartition>","rsplit":"<callable: rsplit>","rstrip":"<callable: rstrip>","split":"<callable: split>","splitlines":"<callable: splitlines>","startswith":"<callable: startswith>","strip":"<callable: strip>","swapcase":"<callable: swapcase>","title":"<callable: title>","translate":"<callable: translate>","upper":"<callable: upper>","zfill":"<callable: zfill>"}],"_content":"b'{\"messages\":[{\"role\":\"system\",\"content\":\"You are a helpful AI Agent.\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nThe current date is 13 November 2025.\"},{\"role\":\"user\",\"content\":\"think of plan: how  to integrate fast-agent with this AI chat app and cloudflare Workers  (should it be hosted on same domain? should it handle every API call? )\\\\n\"},{\"content\":\"Here\\'s a structured plan to integrate FastAgent with your AI chat app using Cloudflare Workers, balancing performance, security, and maintainability:\\\\n\\\\n### 1. **Hosting Strategy**\\\\n- **FastAgent on Dedicated Subdomain**:\\\\n  - Deploy FastAgent to `agents.yourdomain.com` \\\\n  - *Why*: \\\\n    - Isolates services (security/scale)\\\\n    - Avoids cookie/caching conflicts\\\\n    - Allows separate rate-limiting\\\\n- **Chat App on Main Domain**: Host UI at `app.yourdomain.com`\\\\n\\\\n### 2. **Routing Architecture**\\\\n```mermaid\\\\nflowchart LR\\\\n    Client-->|Request| Cloudflare[CF Worker A]\\\\n    Cloudflare-->|Static Files| CF_Pages[Chat App UI]\\\\n    Cloudflare-->|API Calls| Worker_B[CF Worker B: API Gateway]\\\\n    Worker_B-->|Proxy to FastAgent| FastAgent[CF Worker C: FastAgent]\\\\n    Worker_B-->|DB/3rd Party| External[Other Services]\\\\n```\\\\n\\\\n### 3. **Cloudflare Worker Roles**\\\\na. **Worker A (Frontend Helper)**:\\\\n   - Path: `app.yourdomain.com/*`\\\\n   - Responsibilities:\\\\n     - Serve static chat app (HTML/JS/CSS)\\\\n     - Inject env variables (e.g., API endpoints)\\\\n     - Handle CSP headers\\\\n   - **Does NOT process API calls**\\\\n\\\\nb. **Worker B (API Gateway)**:\\\\n   - Path: `app.yourdomain.com/api/*`\\\\n   - Key Features:\\\\n     - Request validation/auth (JWT/cookies)\\\\n     - Rate limiting (use CF Rate Limiting)\\\\n     - Routing:\\\\n       - `/api/chat \\xe2\\x86\\x92` Proxy to **FastAgent**\\\\n       - `/api/auth \\xe2\\x86\\x92` Auth services\\\\n       - `/api/data \\xe2\\x86\\x92` Other backend services\\\\n     - Response formatting\\\\n   - *Critical*: Uses `cacheAPI` for frequent queries\\\\n\\\\nc. **Worker C (FastAgent)**:\\\\n   - Path: `agents.yourdomain.com/process`\\\\n   - Private endpoint (only accessible via API Gateway)\\\\n   - Handles:\\\\n     - AI model inference\\\\n     - Session management\\\\n     - Vector DB integrations\\\\n   - *Deployment Tip*: Use Workers AI\",\"role\":\"assistant\"},{\"role\":\"user\",\"content\":\"continue response\"}],\"model\":\"deepseek/deepseek-r1-0528:free\",\"max_tokens\":2048,\"stream\":true,\"stream_options\":{\"include_usage\":true},\"tools\":[]}'"},"message":"Error code: 429 - {'error': {'message': 'Provider returned error', 'code': 429, 'metadata': {'raw': 'deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations', 'provider_name': 'Chutes'}}, 'user_id': 'user_2yNsSJlj5kuPDVeJ9WmbwWBbBgq'}","body":{"message":"Provider returned error","code":429,"metadata":{"raw":"deepseek/deepseek-r1-0528:free is temporarily rate-limited upstream. Please retry shortly, or add your own key to accumulate your rate limits: https://openrouter.ai/settings/integrations","provider_name":"Chutes"}},"code":"429","param":null,"type":null,"response":"<httpx.Response [429] https://openrouter.ai/api/v1/chat/completions>","status_code":429,"request_id":null}}}
